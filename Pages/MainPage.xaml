<Page x:Class="Oraton.Pages.MainPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Oraton.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="500" d:DesignWidth="800"
      Title="MainPage">

    <Grid Background="#2C3E50">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Панель управления (шрифты, кнопки) -->
            <RowDefinition Height="*"/>
            <!-- Основная область (список, заметки) -->
        </Grid.RowDefinitions>

        <!-- Панель управления -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="10">

            <!-- Підпис для кнопки "Зберегти" -->

            <Button Content="Зберегти"
                Command="{Binding SaveNoteCommand}"
                Width="100"
                Height="30"
                Margin="10,0,0,0"
                Click="Button_Click"/>

            <!-- Підпис для кнопки "Створити замітку" -->

            <Button Content="Створити замітку"
                Click="CreateNoteButton_Click"
                Width="120"
                Height="30"
                Margin="10,0,0,0"/>

            <!-- Підпис для ComboBox шрифтів -->
            <Label Content="Шрифт" VerticalAlignment="Center" Foreground="#BDC3C7" FontSize="14"/>

            <ComboBox x:Name="FontSelector" SelectionChanged="FontSelector_SelectionChanged" Width="150">
                <ComboBoxItem Content="Arial"/>
                <ComboBoxItem Content="Times New Roman"/>
                <ComboBoxItem Content="Verdana"/>
            </ComboBox>

            <!-- Підпис для ComboBox розміру шрифтів -->
            <Label Content="Розмір шрифту" VerticalAlignment="Center" Foreground="#BDC3C7" FontSize="14"/>

            <ComboBox x:Name="FontSizeSelector" SelectionChanged="FontSizeSelector_SelectionChanged" Width="100">
                <ComboBoxItem Content="10"/>
                <ComboBoxItem Content="12"/>
                <ComboBoxItem Content="14"/>
                <ComboBoxItem Content="16"/>
                <ComboBoxItem Content="18"/>
                <ComboBoxItem Content="20"/>
                <ComboBoxItem Content="24"/>
                <ComboBoxItem Content="28"/>
                <ComboBoxItem Content="32"/>
                <ComboBoxItem Content="36"/>
                <ComboBoxItem Content="40"/>
            </ComboBox>
        </StackPanel>

        <!-- Основная часть (список и текстовое поле) -->
        <Grid Grid.Row="1">
            <!-- Підпис для ListBox -->
            <Label Content="Список заметок" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10" Foreground="#BDC3C7" FontSize="14"/>

            <ListBox ItemsSource="{Binding Notes}" 
         SelectedItem="{Binding SelectedNote}" 
         DisplayMemberPath="Title"
         Margin="10,0,551,10"
         Background="#7F8C8D" 
         Foreground="White">
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="Background" Value="#7F8C8D"/>
                        <!-- Сірий фон -->
                        <Setter Property="Foreground" Value="White"/>
                        <!-- Білий текст -->
                        <Setter Property="Tag" 
                    Value="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBox}}}"/>
                        <Setter Property="ContextMenu">
                            <Setter.Value>
                                <ContextMenu>
                                    <MenuItem Header="Переименовать"
                                  Command="{Binding PlacementTarget.Tag.DataContext.RenameNoteCommand, RelativeSource={RelativeSource AncestorType=ContextMenu}}"
                                  CommandParameter="{Binding}" />
                                    <MenuItem Header="Удалить"
                                  Command="{Binding PlacementTarget.Tag.DataContext.DeleteNoteCommand, RelativeSource={RelativeSource AncestorType=ContextMenu}}"
                                  CommandParameter="{Binding}" />
                                </ContextMenu>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ListBox.ItemContainerStyle>
            </ListBox>

            <!-- Підпис для поля текстового редактора -->
            <Label Content="Текст заметки" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="254,0,10,0" Foreground="#BDC3C7" FontSize="14"/>

            <RichTextBox Name="NoteRichTextBox" 
             AcceptsReturn="True"
             VerticalScrollBarVisibility="Auto"
             Margin="254,0,10,10"
             TextChanged="NoteRichTextBox_TextChanged"
             Background="#7F8C8D" 
             Foreground="White"
             KeyDown="NoteRichTextBox_KeyDown"/>
        </Grid>
    </Grid>

</Page>
